<template>
  <require from="resources/elements/activity/activity"></require>
  <ux-dialog>
    <ux-dialog-body class="">
      <div>
        <activity id.bind="activity.id"></activity>
      </div>
      <div if.bind="isArray(detail)" class="inline-block align-top">
        <div repeat.for="item of detail">
          <input type="text" value.bind="detail[$index]" /><button
            click.trigger="removeItem(detail, $index)"
          >
            ❌
          </button>
        </div>
      </div>
      <div class="inline-block">
        <div
          repeat.for="detail of mru"
          click.trigger="addDetailFromMru(detail)"
          class="p-3 ml-3 text-right"
        >
          ${detail}
        </div>
      </div>
      <hr />
      <div if.bind="isArray(detail)">
        <form submit.trigger="addItemOrSubmit()">
          <input
            ref="inputBox"
            focus="true"
            type="text"
            value.bind="newItem"
            placeholder="add item"
          />
          <button if.bind="newItem" click.trigger="addItemOrSubmit()">▶</button>
        </form>
      </div>
    </ux-dialog-body>
    <ux-dialog-footer>
      <button click.trigger="submitForm()">done</button>
      <button click.trigger="controller.cancel()">cancel</button>
    </ux-dialog-footer>
  </ux-dialog>
</template>
