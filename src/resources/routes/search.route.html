<template>
  <require from="./search.route.css"></require>
  <require from="resources/elements/entry/entry"></require>
  <div class="search-bar">
    <input class="search-input" focus="true" value.bind="needle & debounce" />
    <button
      class="search-button"
      disabled.bind="currentPage === 0"
      click.trigger="prevPage()"
    >
      prev
    </button>
    <button
      class="search-button"
      disabled.bind="currentPage === lastPageIndex"
      click.trigger="nextPage()"
    >
      next
    </button>
    <span if.bind="entries.length"
      >Results ${firstEntryIndex+1}-${lastEntryIndex} of ${entries.length}</span
    >
  </div>
  <entry
    class="search-entries"
    repeat.for="e of entryPage"
    entry.bind="e"
  ></entry>
</template>
