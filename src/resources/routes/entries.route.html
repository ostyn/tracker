<template>
  <require from="./entries.route.css"></require>
  <require from="resources/elements/calendar/month-control"></require>
  <require from="resources/elements/entry/entry"></require>
  <require from="resources/elements/entry/entry-loading.html"></require>
  <section class="month-control-bar">
    <month-control
      month.bind="currentMonth"
      year.bind="currentYear"
      on-month-change.call="onMonthChange(month, year)"
      on-month-click.call="onMonthClick()"
    ></month-control>
  </section>
  <section>
    <entry
      if.bind="isLoaded"
      repeat.for="e of entries"
      scroll-to-self.bind="shouldScrollToSelf(e)"
      entry.bind="e"
    ></entry>
    <article if.bind="isLoaded && !entries.length" class="no-entries">
      <p>no entries</p>
      <button class="contrast" click.trigger="router.navigateToRoute('search')">
        search
      </button>
      <button click.trigger="router.navigateToRoute('entry')">add entry</button>
    </article>
    <entry-loading if.bind="!isLoaded"></entry-loading>
  </section>
  <div if.bind="entries.length" class="sticky-buttons">
    <button
      class="inline contrast"
      click.trigger="router.navigateToRoute('search')"
    >
      <feather-icon name="search"></feather-icon>
    </button>
    <button class="inline" click.trigger="router.navigateToRoute('entry')">
      <feather-icon name="edit-3"></feather-icon>
    </button>
  </div>
</template>
