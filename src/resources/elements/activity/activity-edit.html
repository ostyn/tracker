<template>
  <require from="./activity-edit.css"></require>
  <form>
    <section class="activity-inputs">
      <input
        class="inline"
        type="text"
        value.bind="workingCopy.name"
        placeholder="name"
      />
      <input
        class="inline"
        type="text"
        value.bind="workingCopy.emoji"
        placeholder="emoji"
      />
      <label class="inline"
        ><input
          type="checkbox"
          role="switch"
          checked.bind="workingCopy.isArchived"
        />Archived</label
      >
    </section>
    <section>
      <select
        class="inline"
        value.bind="workingCopy.category"
        matcher.bind="categoryComparer"
      >
        <option value="">Choose...</option>
        <option repeat.for="category of categories">${category}</option>
      </select>
      <input
        class="inline"
        type="text"
        value.bind="workingCopy.category"
        placeholder="category"
      />
    </section>
    <section class="activity-edit-buttons">
      <button class="inline" type="button" click.trigger="newActivity()">
        new
      </button>

      <button
        class="inline"
        if.bind="workingCopy.id"
        click.trigger="openInfo(activity.id)"
      >
        info
      </button>

      <button
        class="inline"
        type="button"
        disabled.bind="!workingCopy.name || !workingCopy.emoji"
        click.trigger="submitActivity()"
      >
        save
      </button>
      <button
        class="inline contrast"
        type="button"
        if.bind="workingCopy.id"
        click.trigger="deleteActivity()"
      >
        delete
      </button>
    </section>
  </form>
</template>
