<template>
  <require from="resources/elements/activity/activity"></require>
  <div class="text-center">
    <button class="w-2" if.bind="!search" click.trigger="search = !search">
      ğŸ” ${searchTerm?'"'+searchTerm+'"':""}
    </button>
    <input
      class="bg-white"
      value.bind="searchTerm"
      blur.trigger="search = false"
      if.bind="search"
      placeholder="search"
      focus.bind="search"
    />
    <button click.trigger="toggleShowArchived()">
      ${filterArchived? "ğŸ™ˆ": "ğŸµ"}
    </button>
    <button click.trigger="toggleGroup()">
      ${groupActivities? "ungroup": "group"}
    </button>
  </div>
  <div repeat.for="[header, activityList] of categoryToActivityList">
    <h2 class="mt-3 uppercase opacity-60">${header}</h2>
    <activity
      repeat.for="activity of activityList"
      click.trigger="onActivityClick({event: $event, activity: activity})"
      long-click.trigger="onActivityLongClick({event: $event, activity: activity})"
      id.bind="activity.id"
      class.bind="(activity.isArchived) ? 'filter grayscale cursor-pointer' : 'cursor-pointer'"
    ></activity>
  </div>
  <div if.bind="uncategorized.length > 0">
    <activity
      repeat.for="activity of uncategorized"
      click.trigger="onActivityClick({event: $event, activity: activity})"
      id.bind="activity.id"
      class.bind="(activity.isArchived) ? 'filter grayscale cursor-pointer' : 'cursor-pointer'"
    ></activity>
  </div>
</template>
